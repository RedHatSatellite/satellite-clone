.\" Automatically generated by Pandoc 2.2.1
.\"
.TH "SATELLITE\-CLONE" "1" "" "Version 1.2" "satellite\-clone documentation"
.hy
.SH NAME
.PP
\f[B]satellite\-clone\f[] \[em] Setup a Satellite server with restored
backup data.
.SH SYNOPSIS
.PP
\f[B]satellite\-clone\f[] [\f[B]\-h\f[]|\f[B]\[en]help\f[]]
[\f[B]\[en]start\-at\-task TASK\f[]] [\f[B]\[en]step\f[]]
[\f[B]\[en]list\-tasks\f[]] [\f[B]\[en]flush\-cache\f[]]
.SH DESCRIPTION
.PP
Easily setup a Satellite server with restored backup data.
Currently satellite backups are supported.
.PP
Throughout this documentation, the following terminology is used:
.IP \[bu] 2
Source server: Existing Satellite server.
.IP \[bu] 2
Target server: new server, to which Satellite server is being cloned.
.SS You will need:
.IP \[bu] 2
A blank (vanilla install) RHEL 7 server (target server).
You will run the setup commands here.
.IP \[bu] 2
A backup from a Satellite server (source server) created with
satellite\-maintain backup.
This backup can be with or without pulp\-data
.IP \[bu] 2
You will need a Satellite 6 subscription for the cloned machine.
There are options for obtaining subscriptions at a discounted rate for
smaller environments.
.SS To perform the clone:
.PP
Satellite\-clone configuration file is in
/etc/satellite\-clone/satellite\-clone\-vars.yml.
.PP
On the target server:
.IP \[bu] 2
Place the backup files in \[lq]/backup\[rq] folder.
If using a different folder, update \[lq]backup_dir\[rq] variable in
satellite\-clone\-vars.yml.
.IP \[bu] 2
You are required to register and subscribe the target server to Red Hat
portal to get content for the Satellite installation.
Alternatively, to let the clone tool register to Red Hat portal, you can
override \[lq]register_to_portal\[rq] to \[lq]true\[rq] and update
\[lq]activationkey\[rq], \[lq]org\[rq] variables in
satellite\-clone\-vars.yml.
.IP \[bu] 2
It is assumed that the target server has access to the required
repositories for Satellite installation.
If using custom repositories for Satellite installation, override
\[lq]enable_repos\[rq] to \[lq]false\[rq] in satellite\-clone\-vars.yml.
.IP \[bu] 2
Run \[lq]satellite\-clone\[rq].
This may take a while to complete.
.SS Options
.TP
.B \[en]step
Interactive, confirm each task before running
.RS
.RE
.TP
.B \[en]list\-tasks
List tasks that will run in the satellite\-clone playbook
.RS
.RE
.TP
.B \[en]flush\-cache
Clear the fact cache
.RS
.RE
.SH FILES
.TP
.B \f[I]/etc/satellite\-clone/satellite\-clone\-vars.yml\f[]
satellite\-clone configuration file
.RS
.RE
.SH BUGS
.PP
Please file bugs in Red Hat Bugzilla <https://bugzilla.redhat.com/>
using product \[lq]Red Hat Satellite 6\[rq] and component \[lq]Satellite
Clone\[rq]
.SH SOURCE
.PP
<https://github.com/RedHatSatellite/satellite-clone>
.SH COPYRIGHT
.PP
Satellite Clone is licensed under GNU General Public License v3.0
.SH AUTHORS
.IP \[bu] 2
John Mitsch
.IP \[bu] 2
Sureshkumar Thirugnanasambandan
